# =============================================================================
# Unified Environment Configuration for Streaming Pipeline
# =============================================================================
# This file supports all 4 combinations:
# - Storage: garage | s3
# - Format: paimon | iceberg
#
# Copy this to .env and configure for your deployment
# =============================================================================

# -----------------------------------------------------------------------------
# Infrastructure Configuration
# -----------------------------------------------------------------------------
HOST_IP=192.168.1.202
POSTGRES_CATALOG_PORT=5433
POSTGRES_SOURCE_PORT=5432

# -----------------------------------------------------------------------------
# Storage Backend Configuration
# -----------------------------------------------------------------------------
# Options: "garage" or "s3"
STORAGE_TYPE=garage

# S3/Garage Configuration (used by both storage types)
S3_ENDPOINT=http://192.168.1.202:3900  # Garage endpoint (auto-set for garage)
S3_ACCESS_KEY=                         # Auto-generated for garage, user-provided for s3
S3_SECRET_KEY=                         # Auto-generated for garage, user-provided for s3
S3_BUCKET=warehouse
S3_PATH_STYLE_ACCESS=true              # true for garage/minio, false for real AWS S3

# Computed S3 paths (auto-set by deploy script)
S3_BASE=s3://${S3_BUCKET}

# -----------------------------------------------------------------------------
# Data Lake Configuration
# -----------------------------------------------------------------------------
# Options: "paimon" or "iceberg"
DATALAKE_FORMAT=paimon

# Version configuration
PAIMON_VERSION=0.8.0
ICEBERG_VERSION=1.9.1
FLUSS_TAG=0.8.0-incubating
PGJDBC_VERSION=42.7.8

# Computed warehouse paths (auto-set by deploy script)
PAIMON_WAREHOUSE=${S3_BASE}/paimon
ICEBERG_WAREHOUSE=${S3_BASE}/iceberg
CHECKPOINTS_DIR=${S3_BASE}/checkpoints

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_CATALOG_USER=root
POSTGRES_CATALOG_PASSWORD=root
POSTGRES_CATALOG_DB=paimon_catalog

# =============================================================================
# Configuration Notes:
# =============================================================================
#
# FOR GARAGE STORAGE:
# - Set STORAGE_TYPE=garage
# - S3_ENDPOINT, S3_ACCESS_KEY, S3_SECRET_KEY will be auto-generated
# - S3_PATH_STYLE_ACCESS will be set to true
#
# FOR S3 STORAGE:
# - Set STORAGE_TYPE=s3
# - Provide your own S3_ENDPOINT, S3_ACCESS_KEY, S3_SECRET_KEY
# - Set S3_PATH_STYLE_ACCESS=false for real AWS S3
#
# FOR PAIMON FORMAT:
# - Set DATALAKE_FORMAT=paimon
# - Uses JDBC metastore with PostgreSQL
#
# FOR ICEBERG FORMAT:
# - Set DATALAKE_FORMAT=iceberg
# - Uses Hadoop catalog with S3/Garage storage
# =============================================================================